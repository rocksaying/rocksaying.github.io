---
title: RSpec 與測試驅動開發的思考方式
category: programming
old-category: Ruby
tags: [ruby,rspec,tdd,測試驅動開發]
---
<p>
日前翻舊文時，看到一篇關於 <a href="http://rspec.info/">RSpec</a> 的好文章。
</p>

<ul>
    <li>
        英文原文:
        <a href="http://www.ibm.com/developerworks/web/library/wa-rspec/">
        Behavior-driven testing with RSpec
        </a>
    </li>
    
    <li>
        中譯:
        <a href="http://www.ibm.com/developerworks/cn/web/wa-rspec/index.html">
        使用 RSpec 进行行为驱动测试
        </a>
    </li>
</ul>
<p>
這篇文章有條不紊的說明我們是如何利用 rspec 這套工具，引導我們的軟體開發流程。
</p>
<p>
根據 <a href="http://rspec.info/">rspec</a> 中的 <em>spec</em> 字眼，我們可以將 rspec 解釋為一種用於描述軟體規格的的特定領域語言(<a href="http://en.wikipedia.org/wiki/Domain-specific_language">Domain Specific Language</a>)。由於軟體規格就是應用軟體表現出來的外在行為，所以跟隨 rspec 此類工具的設計流程，被稱為「行為驅動開發模式」(Behaviour Driven Development)。這種開發模式屬於測試驅動開發模式(TDD)的高階形式。
</p>

<!--more-->
<p>
有些開發者誤以為 Agile/XP 方法不做設計工作。事實上並非如此，只是我們的敘述形式不同罷了。
例如我的舊文《<a href="{{ site.baseurl }}/archives/2006/%E5%85%88%E8%AA%AA%E6%95%85%E4%BA%8B%E5%86%8D%E5%8B%95%E6%89%8B%E8%A8%AD%E8%A8%88%2C%20%E5%BE%9E%E4%B8%80%E5%80%8B%E7%B0%A1%E5%96%AE%E6%95%85%E4%BA%8B%E7%9C%8B%20Test%20Driven%20Development.html">先說故事再動手設計, 從一個簡單故事看 Test Driven Development</a>》，和 Neal Ford 的這篇《<a href="http://www.ibm.com/developerworks/web/library/wa-rspec/">Behavior-driven testing with RSpec</a>》，都依循相同的思考模式實現設計工作。所謂設計、故事／使用案例、測試案例都是同一事物的不同面向、不同的表達形式。基於 Agile/XP 追求降低重複性的傾向，我們不喜歡重複做同一件事。因此，我們認為設計工作與測試工作之間應該不分彼此地結合在一起。
</p>

<p>
rspec 就是在這種思想之下出現的工具。它基本上就是一種測試案例形式。但與一般的 unit test 工具不同之處在於 rspec 採用了更貼近口語文件的敘述形式。按照 Agile/XP 編程方法的傳統習慣(<span class="Onote">Source code is Document</span>)，一份 rspec 文件，既是軟體規格書、測試計劃書，也是測試案例源碼。rspec 貼近口語文件的敘述形式，使其作為軟體規格書時更具可讀性。當我們在編寫一份軟體的 rspec 文件時，就是一次編寫軟體規格、使用案例以及測試案例三種文件。
</p>

<p>
各位在閱讀《<a href="http://www.ibm.com/developerworks/web/library/wa-rspec/">Behavior-driven testing with RSpec</a>》時，除了觀看 rspec 的用法之外，也應細細體會這種開發模式會帶來的好處。
</p>

<div class="note">
一般使用 gem 安裝 rspec。Debian/Ubuntu 的使用者，也可以直接透過套件庫安裝，套件名稱是 <dfn>librspec-ruby</dfn> 。
</div><div class="note">樂多舊網址: http://blog.roodo.com/rocksaying/archives/14331339.html</div>