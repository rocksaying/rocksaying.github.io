---
title: Java Spring framework 開發人員面試題
category: programming
old-category: C/C++/C#/Java
tags: [spring,java]
---
<p>
日前我指導公司一位新進人員學習 Java Spring framework 的基礎觀念。在這個過程中，我留意到 Java Spring framework 一些相當基礎而簡單的觀念很適合設計成問答題。所以我設計了三道連環的試題，檢視開發人員是否真的搞懂了。
</p>
<p>
唉，為什麼我這個討厭 Java 語言的人還會跑去指導別人關於 Java Spring framework 的事呢？總歸一句話：人在江湖身不由己。我也是要混飯吃的，就別問我原因了。
</p>

<!--more-->
<h4>Question 1</h4>
<p>
今有一 PlainOldClass 類，其定義如下列。
</p>

<pre class="highlight"><code><span class="kd">class</span> <span class="nc">PlainOldClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">value</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="n">PlainOldClass</span><span class="o">(</span><span class="kt">int</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="n">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>
PlainOldClass 是一個既有類別，試用 Spring framework 的 bean 語法定義它，以1為其初值。
</p>

<pre class="highlight"><code><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"plainOldClass"</span> <span class="na">class=</span><span class="s">"PlainOldClass"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;constructor-arg&gt;</span>
        <span class="nt">&lt;value&gt;</span>1<span class="nt">&lt;/value&gt;</span>
    <span class="nt">&lt;/constructor-arg&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre>


<h4>Question 2</h4>
<p>
在應用程式的 Spring 配置文件中，有下列 bean 定義。
</p>
<pre class="highlight"><code><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"newClass"</span> <span class="na">class=</span><span class="s">"NewClass"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"value"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ref</span> <span class="na">bean=</span><span class="s">"plainOldClass"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</code></pre>


<p>
應用程式包含一個 ExampleComponent 元件，其定義如下列。
</p>

<pre class="highlight"><code><span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleComponent</span> <span class="o">{</span>

	<span class="nd">@Autowired</span>
	<span class="kd">private</span> <span class="n">NewClass</span> <span class="n">c</span><span class="o">;</span>
	
	<span class="kd">public</span> <span class="kt">int</span> <span class="n">test</span><span class="o">()</span> <span class="o">{</span>
	    <span class="k">return</span> <span class="n">c</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre>


<p>
根據上述 Spring framework 的 bean 定義內容以及 ExampleComponent 的內容，試以 Java 語言寫出可用的 NewClass 類別。
</p>

<pre class="highlight"><code><span class="kd">class</span> <span class="nc">NewClass</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">PlainOldClass</span> <span class="n">value</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">setValue</span><span class="o">(</span><span class="n">PlainOldClass</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">v</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="n">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">value</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>


<h4>Question 3</h4>

<p>
承前兩題，試描述 Spring framework 做了哪些事，使得 ExampleComponent 之中不需要寫出如何初始化 c 的程式碼。
</p>

<pre class="highlight"><code><span class="c1">//根據 bean plainOldClass</span>
<span class="n">plainOldClass</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PlainOldClass</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>

<span class="c1">//根據 bean newClass</span>
<span class="n">newClass</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NewClass</span><span class="o">();</span>
<span class="n">newClass</span><span class="o">.</span><span class="na">setValue</span><span class="o">(</span><span class="n">plainOldClass</span><span class="o">);</span>

<span class="c1">//根據 @Autowired  </span>
<span class="n">component</span><span class="o">.</span><span class="na">c</span> <span class="o">=</span> <span class="n">newClass</span><span class="o">;</span>
</code></pre>

<h6>相關文章</h6>
<ul>
<li><a href="{{ site.baseurl }}/archives/2010/PHP%20%E5%AF%A6%E4%BD%9C%20IoC_DI%20%E8%A8%AD%E8%A8%88%E6%A8%A1%E5%BC%8F.html">PHP 實作 IoC/DI 設計模式</a></li>
<li><a href="{{ site.baseurl }}/archives/2013/%E6%B1%82%E6%89%8D%E8%80%85%E6%87%89%E5%A6%82%E4%BD%95%E9%9D%A2%E8%A9%A6%E7%A8%8B%E5%BC%8F%E4%BA%BA%E5%93%A1.html">求才者應如何面試程式人員</a></li>
</ul>
<div class="note">樂多舊網址: http://blog.roodo.com/rocksaying/archives/13401403.html</div>
<div class="roodo-comments"><hr/><h6>樂多舊回應</h6>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">未留名 (#comment-22133767)</div>
<div class="roodo-comment-date">Thu, 17 Nov 2011 17:32:58 +0800</div>
<div class="roodo-comment-text">第3題，ExampleComponent 裡面 private NewClass c，似乎會有 compile error:<br/><br/>//根據 @Autowired  <br/>component.c = newClass;<br/>	</div>
</blockquote>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">未留名 (#comment-22138959)</div>
<div class="roodo-comment-date">Tue, 22 Nov 2011 15:34:42 +0800</div>
<div class="roodo-comment-text">Spring framework 實際上是透過 reflect 完成 autowired 的。大致上是:<br/><br/>ExampleComponent component = new ExampleComponent();<br/>Field field = ExampleComponent.class.getField("c");<br/>field.set(component, newClass);<br/><br/>而上述的反射操作，白話地說就是 component.c = newClass;<br/><br/>有興趣深入了解的話，可以參考我寫的 <a href='http://blog.roodo.com/rocksaying/archives/13163105.html。' rel='nofollow'>http://blog.roodo.com/rocksaying/archives/13163105.html。</a><br/>在 JNI 與 java.reflect 眼中，存取權飾詞只是參考用的。<br/><br/>畢竟我的題目測試的不是 relfect 的用法，而是 Spring framework 的基礎觀念。能寫出參考答案中的 pseudo code 足以。因為這代表作答者理解 Autowired 作了什麼。<br/>事實上，我在提問時，還真有些Spring framework的使用者連這一點都答不出來。<br/>	</div>
</blockquote>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">nbrenhu@msn.com(Ren) (#comment-22778008)</div>
<div class="roodo-comment-date">Fri, 08 Feb 2013 13:38:36 +0800</div>
<div class="roodo-comment-text">在實作上，記住這些關係的code是沒多大意義的，<br/>我也沒有很熟悉 Spring，可是Spring的系統卻改過不少個，<br/>考試這件事，見仁見智，只是如果是我，不會叫人去記這些書上就找的到的東西。<br/>	</div>
</blockquote>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">未留名 (#comment-22778204)</div>
<div class="roodo-comment-date">Fri, 08 Feb 2013 14:52:39 +0800</div>
<div class="roodo-comment-text">我不需要他們記住這些code 。<br/>如果他們真的理解 Spring 的基礎觀念，寫出那些 code 不必靠記憶。<br/><br/>我出這三道題目時，我會在旁觀察解答者。<br/>前兩題就算有些關鍵字或語法記不起來也無妨，那不太重要。<br/>真正重要的只有第三道問題的答案，那才是真正的基礎觀念。<br/><br/>連基礎觀念都沒有建立的程序員，只能算是看書打字的打字員。<br/>	</div>
</blockquote>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">ss@ss.ss(ss) (#comment-22801440)</div>
<div class="roodo-comment-date">Thu, 07 Mar 2013 13:17:21 +0800</div>
<div class="roodo-comment-text">這年頭看文件的人越來越少了<br/>這些東西~官方文件都有阿<br/>	</div>
</blockquote>
</div>
