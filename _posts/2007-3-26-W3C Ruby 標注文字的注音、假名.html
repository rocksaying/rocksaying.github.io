---
title: W3C Ruby 標注文字的注音、假名
category: computer
old-category: 電腦技術
tags: [w3c,中日韓文,cjk]
permalink: /archives/2912837.html
---
<div class="tags" style="display:none">w3c 中日韓文 cjk</div>
<p>
前幾天我在每天固定活動的某ACG論壇中，看到有人問如何在文章的漢字上標注假名。某元老人士說可以用 HTML 中的 Ruby 標籤。這我以前沒用過，當下就去搜尋相關資訊。
</p>
<p>
Ruby 標籤屬於 W3C XHTML 1.1 規範項目，規範內容查閱《<a href="http://www.w3.org/TR/ruby/">Ruby Annotation</a>》。原本是 Micorsoft IE 5.5版加進的延伸功能，後來成為 W3C XHTML 1.1 規範項目之一，目前 IE 以外的瀏覽器仍未普遍支援此標籤。Firefox 的使用者可以安裝 ぴろ 氏提供的「<a href="http://piro.sakura.ne.jp/xul/_rubysupport.html.en">XHTML Ruby Support</a>」擴充套件。
</p>

<!--more-->
<h3>Ruby 標籤語法</h3>
<p>
Ruby 標籤實際上由<code>&lt;ruby&gt;</code>, <code>&lt;rb&gt;</code>, <code>&lt;rt&gt;</code> 三個標籤元素構成，一般還會配合選用性的 <code>&lt;rp&gt;</code> 標籤。<code>&lt;ruby&gt;</code>標示文字區域；<code>&lt;rb&gt;</code>標示主要文字內容；<code>&lt;rt&gt;</code>標示旁注文字內容，即注音、假名等。<code>&lt;rp&gt;</code>則是不支援 Ruby 標籤之瀏覽器顯示的文字內容。
</p>
<pre class="language-text">
一個
<code>&lt;ruby&gt;</code>
    <code>&lt;rb&gt;</code>文字<code>&lt;/rb&gt;</code>
    <code>&lt;rt&gt;</code>ㄨㄣˊㄗˋ<code>&lt;/rt&gt;</code>
<code>&lt;/ruby&gt;</code>
</pre>
<h3>Ruby 使用範例</h3>
<p style="font-family:標楷體;">
  <ruby><rb>囧</rb><rt>ㄐㄩㄥˇ</rt></ruby>，大明也。<br/>
  江淹：「<ruby><rb>囧</rb><rt>ㄐㄩㄥˇ</rt></ruby><ruby><rb>囧</rb><rt>ㄐㄩㄥˇ</rt></ruby>秋月明，憑軒<ruby><rb>絰</rb><rt>ㄉㄧㄝˊ</rt></ruby><ruby><rb>麑</rb><rt>ㄋㄧˊ</rt></ruby>老。」
</p>
<p>
  <ruby><rb>夏</rb><rt>なつ</rt></ruby>の<ruby><rb>向日葵</rb><rt>ひまわり</rt></ruby>
</p>
<h5>with &lt;rp&gt;</h5>
<p>
  <ruby><rb>夏</rb><rp>(</rp><rt>なつ</rt><rp>)</rp></ruby>の<ruby><rb>向日葵</rb><rp>(</rp><rt>ひまわり</rt><rp>)</rp></ruby>
</p>


{% highlight xml %}
<p style="font-family:標楷體;">
  <ruby><rb>囧</rb><rt>ㄐㄩㄥˇ</rt></ruby>，大明也。<br/>
  江淹：「<ruby><rb>囧</rb><rt>ㄐㄩㄥˇ</rt></ruby><ruby><rb>囧</rb><rt>ㄐㄩㄥˇ</rt></ruby>秋月明，
  憑軒<ruby><rb>絰</rb><rt>ㄉㄧㄝˊ</rt></ruby><ruby><rb>麑</rb><rt>ㄋㄧˊ</rt></ruby>老。」
</p>
<p>
  <ruby><rb>夏</rb><rt>なつ</rt></ruby>の<ruby><rb>向日葵</rb><rt>ひまわり</rt></ruby>
</p>
<h5>with &lt;rp&gt;</h5>
<p>
  <ruby><rb>夏</rb><rp>(</rp><rt>なつ</rt><rp>)</rp></ruby>の
  <ruby><rb>向日葵</rb><rp>(</rp><rt>ひまわり</rt><rp>)</rp></ruby>
</p>
{% endhighlight %}

<br/><br/>
<div align="center">
<img src="{{ site.baseurl }}/images/dfdf02ca.png" title="IE 效果圖" alt="IE 可顯示 W3C Ruby 標籤的效果"/>
<br/><br/>
<img src="{{ site.baseurl }}/images/a0c1cb78.png" title="Firefox加裝Ruby Support 效果圖" alt="Firefox加裝Ruby Support 後可顯示 W3C Ruby 標籤的效果"/>
<br/><br/>
<img src="{{ site.baseurl }}/images/6113455b.png" title="Opera 效果圖" alt="Opera不支援Ruby標籤，顯示替代效果"/>
</div>

<ul>
<li><a href="http://www.w3.org/TR/ruby/">W3C: Ruby Annotation</a></li>
<li><a href="http://zh.wikipedia.org/wiki/%E6%97%81%E8%A8%BB%E6%A8%99%E8%A8%98">Wiki: 旁注標記</a></li>
<li><a href="http://ja.wikipedia.org/wiki/%E3%83%AB%E3%83%93">Wiki: ルビ</a></li>
<li><a href="http://piro.sakura.ne.jp/xul/_rubysupport.html.en">XHTML Ruby Support</a></li>
<li><a href="http://jedi.org/blog/archives/004813.html">W3C Ruby | Jedi's BLOG</a></li>
</ul><div class="note">樂多舊網址: http://blog.roodo.com/rocksaying/archives/2912837.html</div>
<div class="roodo-comments"><hr/><h6>樂多舊回應</h6>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">maniacchou@hotmail.com(maniac) (#comment-4276633)</div>
<div class="roodo-comment-date">Tue, 27 Mar 2007 14:50:03 +0800</div>
<div class="roodo-comment-text"><a href='http://www.w3.org/People/mimasa/test/schemas/NOTE-ruby-implementation' rel='nofollow'>http://www.w3.org/People/mimasa/test/schemas/NOTE-ruby-implementation</a><br/>在這裡頭有用 css inline-table 來模擬 ruby 的效果<br/><br/>個人覺得會比要求使用者裝 XHTML Ruby Support 來的方便<br/>--<br/>節錄該部分的內容<br/>ruby { display: inline-table }<br/>ruby * {<br/>	display: inline;<br/>	line-height: 1.2;<br/>	text-indent: 0;<br/>	text-align: center;<br/>	white-space: nowrap;<br/>}<br/>ruby > * {<br/>	display: table-row-group;<br/>}<br/>ruby > rt, ruby rtc {<br/>	display: table-header-group;<br/>	font-size: 60%;<br/>}<br/>ruby rtc + rtc { display: table-footer-group }<br/>ruby rbc > *, ruby rtc > * { display: table-cell }<br/>/* this only works when an rt spans across all rb */<br/>ruby rtc > *[rbspan] { display: table-caption }<br/>ruby rp { display: none }<br/>	</div>
</blockquote>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">未留名 (#comment-4277527)</div>
<div class="roodo-comment-date">Tue, 27 Mar 2007 17:37:45 +0800</div>
<div class="roodo-comment-text">嗯，用 CSS 模擬的方式，看來是對瀏覽器 CSS2 支援度的大考驗。<br/><br/>試了一下，以 Opera 9 觀看 CSS 模擬效果，雖然可以標注在上方，但效果不如預期。 rt 的注音內容跟一般內容同高，反而 rb 的本文內容處於下標位置。<br/>	</div>
</blockquote>
<blockquote class="roodo-comment">
<div class="roodo-comment-author">未留名 (#comment-4356305)</div>
<div class="roodo-comment-date">Fri, 06 Apr 2007 20:53:05 +0800</div>
<div class="roodo-comment-text">這就是 inline-table 的解釋不一樣的後果<br/><br/>像同一段 css 我在 mozilla 1.7 使用和到 seamonkey 1.0 上使用的結果就是有一個位置會跑掉...<br/>	</div>
</blockquote>
</div>
