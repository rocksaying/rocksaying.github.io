---
title: SQL~~Encoding-Based SQL Injection Exploit part 2
category: programming
old-category: SQL/Database
tags: []
permalink: /archives/1822714.html
---
<p>
繼續第一部份內容。除了單引號 (') 外，允許使用反斜線 (\) 的字元編碼，也屬於遭受此 SQL injection 攻擊的高危險群。而且，由於部份 programmer 的不良習慣，提高了危險程度。這個不良習慣，就是不用標準的方法做 escaping ，而抄捷徑地直接使用字串替代函數。例如 PHP 的使用者，常常用 addslashes() 做 escaping 。前文中我提到的那位客戶，我在檢查他們的程式碼時，就發現到他們的 PHP 程式碼，全部都是用 addslashes() 做 escaping ，而不是用 PHP 建議的 pg_escape_string() 。該客戶的 CMS 系統是 Xoops 再加上額外的修訂以支援 PostgreSQL 。不過，當我進一步追查下去時，很驚訝地發現 Xoops 中，連 MySQL 部份的程式碼，也是用 addslashes() ，而不是用 mysql_escape_string() [<span class="note">Xoops 在 2006/6/26 發佈的最新版本中的 class/mysqldatabase.php 還是用 addslashes()。</span>]。很久以前， PHP 就提供了 mysql_escape_string() 函數，甚至可能比 Xoops 的發展時間還早。儘管如此， Xoops 中仍然沒有使用 mysql_escape_string() ，真是令我無言。
</p>

<!--more-->
<div class="note">樂多舊網址: http://blog.roodo.com/rocksaying/archives/1822714.html</div>