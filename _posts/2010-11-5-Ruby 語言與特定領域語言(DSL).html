---
title: Ruby 語言與特定領域語言(DSL)
category: programming
old-category: Ruby
tags: [metaprogramming,ruby,dsl]
---
<p>在 Ruby 語言為人樂道的諸多能力之中，支持 <a href="http://en.wikipedia.org/wiki/Domain-specific_language">特定領域語言(DSL)</a> 是表現突出的一項能力，也是 Ruby 語言諸多特性融合後的精華。 DSL 在 Ruby 語言的應用程度，有如 Template 在 C++ 語言的狀況。Ruby 語言中的諸多工具，都是應用 DSL 的形式體現，例如 Ruby on Rails, Rake, RSpec 等等。
</p>

<!--more-->
<p>以 Ruby 語言設計新的 DSL ，是 Ruby 語言學習之路上的重要過程。所幸，相較於學習 C++ Template，學習以 Ruby 語言設計新的 DSL 的過程不算太困難，還帶點趣味性。Neal Ford 在 developerWorks 上發表了一系列 <a href="http://en.wikipedia.org/wiki/Domain-specific_language">特定領域語言 (DSL)</a> 的主題文章，最近的一篇《<a href="http://www.ibm.com/developerworks/java/library/j-eaed16/index.html">Evolutionary architecture and emergent design: Building DSLs in JRuby</a>》教了一手以 Ruby 語言設計 DSL 的技巧。值得各位一讀。
</p>

<p>
在 Neal Ford 發表的 DSL 系列文章中，我建議關注 Ruby 語言的讀者應讀下列四篇。
</p>
<ul>
    <li><a href="http://www.ibm.com/developerworks/java/library/j-eaed7.html">Evolutionary architecture and emergent design: Language, expressiveness, and design, Part 1</a> (<a href="http://www.ibm.com/developerworks/cn/java/j-eaed7.html">中譯版本</a>) - 語言表達力如何衍生出設計模式。</li>
    <li><a href="http://www.ibm.com/developerworks/java/library/j-eaed8.html">Evolutionary architecture and emergent design: Language, expressiveness, and design, Part 2</a> (<a href="http://www.ibm.com/developerworks/cn/java/j-eaed8.html">中譯版本</a>) - 使用 DSL 掌握領域慣用模式。</li>
    <li><a href="http://www.ibm.com/developerworks/java/library/j-eaed13/index.html">Evolutionary architecture and emergent design: Using DSLs</a> (<a href="http://www.ibm.com/developerworks/cn/java/j-eaed13/index.html">中譯版本</a>) - DSL 的使用概念。</li>
    <li><a href="http://www.ibm.com/developerworks/java/library/j-eaed16/index.html">Evolutionary architecture and emergent design: Building DSLs in JRuby</a> (<a href="http://www.ibm.com/developerworks/cn/java/j-eaed16/index.html">中譯版本</a>) - 使用 Ruby 語言設計 DSL 時的實務技巧。</li>
</ul>


<p>
主題文章搜尋列表:
</p>

<ul>
    <li>
    <a href="http://www.ibm.com/developerworks/search/searchResults.jsp?searchType=1&displaySearchScope=dW&searchSite=dW&query=Evolutionary+architecture+and+emergent+design&searchScope=javaZ">[英文] Evolutionary architecture and emergent design
    </a>
    </li>

    <li>
    <a href="http://www.ibm.com/developerworks/cn/views/java/libraryview.jsp?show_abstract=true&contentarea_by=Java+technology&search_by=%E6%BC%94%E5%8C%96%E6%9E%B6%E6%9E%84%E4%B8%8E%E7%B4%A7%E6%80%A5%E8%AE%BE%E8%AE%A1&ibm-search=%E6%90%9C%E7%B4%A2">[中譯] 演化架构与紧急设计
    </a>
    </li>
</ul>

<div class="note">
按照 Martin Fowler 在《<a href="http://martinfowler.com/bliki/DomainSpecificLanguage.html">Domain Specific Language</a>》的定義，RoR, RSpec 這些 DSL 都屬於運作於 Ruby 語言內部的次領域語言。這種內部DSL 的設計模式歷史悠久，Lisp 尤為代表。Smalltalk 和 C++ Template 也大力支持內部 DSL。就我所知，Ruby 的 DSL 設計風格傾向於 Smalltalk 風格，例如我這篇《<a href="{{ site.baseurl }}/archives/2009/%E9%81%9E%E8%BF%B4%E8%88%87Smalltalk%E5%BC%8F%E4%BB%8B%E8%A9%9E%E6%87%89%E7%94%A8.html">遞迴與Smalltalk式介詞應用</a>》。
</div><div class="note">樂多舊網址: http://blog.roodo.com/rocksaying/archives/14354421.html</div>