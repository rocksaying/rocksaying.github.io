---
title: Fcitx輸入法引擎行列30字碼表添加二級簡碼~試驗中
category: computer
tags: [debian,linux,fcitx,輸入法,array30]
lastupdated: 2021-06-18
permalink: /archives/fcitx-table-array30plus_v2.html
---

繼「[行列30字碼表添加一級簡碼]({% post_url 2021-06-07-fcitx輸入法引擎行列30字碼表添加一級簡碼 %})」之後，我還是想把二級簡碼合併進來。但因為二級簡碼和特別碼重複衝突的狀況不可避免，我決定以特別碼為優先。所以合併進來的二級簡碼不保證每個字的位置都符合規定。

合併結果中，有九成以上的二級簡碼字，會出現在候選字清單的正確位置上。不到一成的重複字，位置有所挪動。

另外，我在處理二級簡碼過程中，發現來源的 array30.txt 中有[錯誤編碼](https://github.com/shirock/rocksources/blob/master/linux/fcitx-table-array30plus/%E9%8C%AF%E8%AA%A4%E7%B7%A8%E7%A2%BC.md)，已刪除那些錯誤。

下載已經轉換的表: [含二級簡碼的行列30字碼表](https://github.com/shirock/rocksources/blob/master/linux/fcitx-table-array30plus/array30plus_v2.zip)。

<!--more-->

## 使用說明

合併程式：[https://github.com/shirock/rocksources/tree/master/linux/fcitx-table-array30plus](https://github.com/shirock/rocksources/tree/master/linux/fcitx-table-array30plus)。

修改 merge.py 的 `MIX_LV2_CODE` 這一行為 *True* ，合併二級簡碼到字根表。

~~~python

MIX_LV2_CODE = True

~~~

## 二級簡碼合併規則說明

1. 若一字同時有特別碼與二級簡碼，則從二級簡碼清單中刪掉。以特別碼優先。
2. 特別碼和一級簡碼，優於二級簡碼。重覆位置的二級簡碼字往後挪。
3. 二級簡碼佔位符號'□'，從前二碼符合字中取出置換。
4. 若字數不足，則以數字符號 '⑤', '⑥' 等代替佔位。

舉 'tz', 'uj', 'z,' 三字根組合說明。

### *tz*

* 特別碼: '團'
* 二級簡碼: '墮', '□', '□', '□', '阪', '□', '□', '陜', '□', '□'
* 自訂補充: '墮', '□', '□', '□', '阪', '隨', '□', '陜', '□', '□'
* 前二碼符合字: '䧀', '䧥', '陏', '陕', '阫', ...

'隨' 字本為一級簡碼，但和特別碼'的'衝突。
因為二級簡碼的第6位置是空的，符合'隨'的尾碼(n:6下)，所以我把它放到二級簡碼第6位置。

若是不合併二級簡碼的情形，'隨'字將成為tz的第二候選字。

特別碼優於二級簡碼，重覆位置的二級簡碼字往後挪。
故'墮'從第一位置挪到第二位置。

合併中途: '團', '墮', '□', '□','阪', '隨', '□', '陜', '□', '□'

二級簡碼佔位符號'□'，從前二碼符合字中取出置換。

合併結果: '團', '墮', '䧀', '䧥', '阪', '隨', '陏', '陜', '陕', '阫'

### *uj*

* 特別碼: '卻'
* 二級簡碼: '膽', '□', '□', '腆', '服', '□', '□', '□', '□', '□'
* 前二碼符合字: '胴', '胦', '䏙', '䏹', '䏥', '肕', ...

特別碼優於二級簡碼，重覆位置的二級簡碼字往後挪。
故'膽'從第一位置挪到第二位置。

合併中途: '卻', '膽', '□', '腆', '服', '□', '□', '□', '□', '□'

二級簡碼佔位符號'□'，從前二碼符合字中取出置換。

合併結果: '卻', '膽', '胴', '腆', '服', '胦', '䏙', '䏹', '䏥', '肕'

### *z,*

* 完全符合字: '灰'
* 二級簡碼: '灰', '□', '□', '□', '□', '□', '盔', '□', '□', '□'
* 前二碼符合字: '㶨', '㶪', '㓹'

完全符合字和二級簡碼內容重覆，不變。

合併中途: '灰', '□', '□', '□', '□', '□', '盔', '□', '□', '□'

二級簡碼佔位符號'□'，從前二碼符合字中取出置換。
若字數不足，則以數字符號代替佔位。

合併結果: '灰', '㶨', '㶪', '㓹', '⑤', '⑥', '盔'
